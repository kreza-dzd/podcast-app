(function(){"use strict";var e={175:function(e,t,a){var i=a(9242),s=a(3494),o=a(8539),r=a(7749),n=(a(6744),a(3396)),l=a(7139),c=a.p+"img/CD.631d9613.jpg";const u=e=>((0,n.dD)("data-v-c77b380e"),e=e(),(0,n.Cn)(),e),d={key:0},m=u((()=>(0,n._)("span",{class:"app-title"},"My App",-1))),p=[m],h=u((()=>(0,n._)("div",{class:"user-profile"},[(0,n._)("img",{src:c,alt:"User Profile"})],-1))),g={class:"search-container"},y={href:"#"},w={href:"#"};function v(e,t,a,s,o,r){const c=(0,n.up)("router-link"),u=(0,n.up)("LetsGo"),m=(0,n.up)("font-awesome-icon"),v=(0,n.up)("router-view"),f=(0,n.up)("MediaPlayer");return(0,n.wg)(),(0,n.iD)("div",{id:"app",class:(0,l.C_)(e.$store.state.theme+"-theme")},[e.$store.state.isSettingsActive?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("header",d,[(0,n._)("button",{class:"menu-toggle",onClick:t[0]||(t[0]=(...e)=>r.toggleSidebar&&r.toggleSidebar(...e))},[(0,n._)("span",{class:(0,l.C_)(["menu-line",{active:e.$store.state.showSidebar}])},null,2),(0,n._)("span",{class:(0,l.C_)(["menu-line",{active:e.$store.state.showSidebar}])},null,2),(0,n._)("span",{class:(0,l.C_)(["menu-line",{active:e.$store.state.showSidebar}])},null,2)]),(0,n.Wm)(c,{to:"/"},{default:(0,n.w5)((()=>[(0,n._)("h1",{class:"app-title-container",onClick:t[1]||(t[1]=e=>{o.showTable=!1,r.clearInputField()})},p)])),_:1}),h,(0,n._)("div",g,[(0,n.wy)((0,n._)("input",{type:"text",placeholder:"","onUpdate:modelValue":t[2]||(t[2]=e=>o.searchQuery=e),onKeyup:t[3]||(t[3]=(0,i.D2)(((...e)=>r.requestTracks&&r.requestTracks(...e)),["enter"]))},null,544),[[i.nr,o.searchQuery]]),(0,n.Wm)(u,{ref:"letsgoComponent",onOnPlayPreview:r.setPreviewUrl,"search-query":o.searchQuery,onToggleFullscreen:r.toggleFullscreen,"show-table":o.showTable,onRequestTracks:r.requestTracksFromInput,onShowTable:t[4]||(t[4]=e=>o.showTable=!0),onPlay:r.handlePlay},null,8,["onOnPlayPreview","search-query","onToggleFullscreen","show-table","onRequestTracks","onPlay"])])])),e.$store.state.isSettingsActive?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("div",{key:1,class:(0,l.C_)(["sidebar",{active:e.$store.state.showSidebar}])},[(0,n._)("nav",null,[(0,n._)("ul",null,[(0,n._)("li",null,[(0,n.Wm)(c,{to:"/music",onClick:r.toggleSidebar},{default:(0,n.w5)((()=>[(0,n.Wm)(m,{icon:["fas","music"]}),(0,n.Uk)(" Music ")])),_:1},8,["onClick"])]),(0,n._)("li",null,[(0,n.Wm)(c,{to:"/music",onClick:r.toggleSidebar},{default:(0,n.w5)((()=>[(0,n._)("a",y,[(0,n.Wm)(m,{icon:["fas","podcast"]}),(0,n.Uk)(" Podcasts")])])),_:1},8,["onClick"])]),(0,n._)("li",null,[(0,n._)("a",w,[(0,n.Wm)(m,{icon:"book"}),(0,n.Uk)(" Library")])]),(0,n._)("li",null,[(0,n.Wm)(c,{to:"/settings"},{default:(0,n.w5)((()=>[(0,n.Wm)(m,{icon:"user"}),(0,n.Uk)(" Settings ")])),_:1})])])])],2)),(0,n._)("main",null,[(0,n.Wm)(v,{onPlay:r.handlePlay,onToggleFullscreen:r.toggleFullscreen},null,8,["onPlay","onToggleFullscreen"])]),e.$store.state.isSettingsActive?(0,n.kq)("",!0):((0,n.wg)(),(0,n.j4)(f,{key:2,ref:"mediaPlayerComponent",podcast:o.podcast,"audio-preview-url":o.audioPreviewUrl,"audio-player":o.audioElement,onRemoveMediaPlayer:r.hideMediaPlayer,accessToken:o.accessToken},null,8,["podcast","audio-preview-url","audio-player","onRemoveMediaPlayer","accessToken"]))],2)}a(2801);var f=a(4870),_=a(4161),b=a(65);const k=e=>((0,n.dD)("data-v-360d543f"),e=e(),(0,n.Cn)(),e),P={class:"featured-container"},T=k((()=>(0,n._)("h2",{class:"section-title"},"Featured",-1))),$={class:"box-wrapper"},C=["onClick"],S=["src","alt"],A={class:"track-name"},D={class:"track-artist"},x={class:"track-album"};var U={__name:"FeaturedView",emits:["toggleFullscreen","play"],setup(e,{emit:t}){const a=(0,f.iH)([]),i=(0,b.oR)();(0,n.bv)((async()=>{const e=await s(),t=e.data.access_token;await o(t)}));const s=async()=>{const e="17e41028c79e4f128a873410a112bd0e",t="de2b9acdd949438588e2a21958897c3f",a=window.btoa(`${e}:${t}`);return _.Z.post("https://accounts.spotify.com/api/token","grant_type=client_credentials",{headers:{Authorization:`Basic ${a}`,"Content-Type":"application/x-www-form-urlencoded"}})},o=async e=>{try{const t=await _.Z.get("https://api.spotify.com/v1/browse/featured-playlists",{headers:{Authorization:`Bearer ${e}`}});let i=t.data.playlists.items.map((async t=>{const a=await _.Z.get(t.tracks.href,{headers:{Authorization:`Bearer ${e}`}}),i=a.data.items[0]?.track;return i?.preview_url?i:void 0})),s=await Promise.all(i);a.value=s.filter((e=>void 0!==e))}catch(t){console.error(t)}},r=e=>{const a={id:e.id,title:e.name,artist:e.artists[0].name,album:e.album.name,duration:e.duration_ms,image:e.album.images[0]?.url,audioPreviewUrl:e.preview_url};t("play",e),i.commit("setAudioPlayerSource",e.preview_url),i.commit("setCurrentPlayingTrack",a),i.dispatch("playNewTrack",e.preview_url),c()},c=()=>{t("toggleFullscreen")};return(e,t)=>((0,n.wg)(),(0,n.iD)("div",P,[T,(0,n._)("div",$,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.value.slice(0,5),((e,t)=>((0,n.wg)(),(0,n.iD)("div",{key:t,class:(0,l.C_)(`box-${t+1}`),onClick:t=>r(e),onDblclick:c},[(0,n._)("img",{src:e.album.images[0]?.url,alt:e.name},null,8,S),(0,n._)("div",A,(0,l.zw)(e.name),1),(0,n._)("div",D,(0,l.zw)(e.artists[0].name),1),(0,n._)("div",x,(0,l.zw)(e.album.name),1)],42,C)))),128))])]))}},z=a(89);const F=(0,z.Z)(U,[["__scopeId","data-v-360d543f"]]);var q=F;a(7658);const B=e=>((0,n.dD)("data-v-120afcd7"),e=e(),(0,n.Cn)(),e),I={class:"new-container"},E=B((()=>(0,n._)("h2",{class:"section-title"},"New",-1))),M={class:"box-wrapper"},L=["onClick"],Z=["src","alt"],R={class:"album-name"};var H={__name:"NewView",emits:["toggleFullscreen","play"],setup(e,{emit:t}){const a=(0,f.iH)([]),i=(0,b.oR)();let s=null;(0,n.bv)((async()=>{const e=await o();s=e.data.access_token,await r(s)}));const o=async()=>{const e="17e41028c79e4f128a873410a112bd0e",t="de2b9acdd949438588e2a21958897c3f",a=window.btoa(`${e}:${t}`);return _.Z.post("https://accounts.spotify.com/api/token","grant_type=client_credentials",{headers:{Authorization:`Basic ${a}`,"Content-Type":"application/x-www-form-urlencoded"}})},r=async e=>{try{const t=await _.Z.get("https://api.spotify.com/v1/browse/new-releases",{headers:{Authorization:`Bearer ${e}`}});let i=t.data.albums.items;a.value=await c(i,e)}catch(t){console.error(t)}},c=async(e,t)=>{let a=[];for(let i of e){const e=await _.Z.get(`https://api.spotify.com/v1/albums/${i.id}/tracks`,{headers:{Authorization:`Bearer ${t}`}}),s=e.data.items.some((e=>null!==e.preview_url));s&&a.push(i)}return a},u=async(e,t)=>{for(let a=t+1;a<e.length;a++){const t=e[a],i=await _.Z.get(`https://api.spotify.com/v1/albums/${t.id}/tracks`,{headers:{Authorization:`Bearer ${s}`}});if(i.data.items.length>0&&i.data.items[0].preview_url){m(i.data.items[0]);break}}},d=async(e,t)=>{try{const i=await _.Z.get(`https://api.spotify.com/v1/albums/${e.id}/tracks`,{headers:{Authorization:`Bearer ${s}`}});i.data.items.length>0&&i.data.items[0].preview_url?m(i.data.items[0],e):(console.log("No tracks available in this album. Skipping to next..."),u(a.value,t))}catch(i){console.error(i)}},m=(e,a)=>{e.album||(e.album=a);const s={id:e.id,title:e.name,artist:e.artists&&e.artists.length>0?e.artists[0].name:"Unknown Artist",album:e.album?e.album.name:"Unknown Album",duration:e.duration_ms,image:e.album&&e.album.images&&e.album.images.length>0?e.album.images[0]?.url:"No Image",audioPreviewUrl:e.preview_url};e.preview_url?(t("play",e),i.commit("setAudioPlayerSource",e.preview_url),i.dispatch("playNewTrack",e.preview_url),i.commit("setCurrentPlayingTrack",s),p()):console.log(`No preview available for track ${e.id}`)},p=()=>{t("toggleFullscreen")};return(e,t)=>((0,n.wg)(),(0,n.iD)("div",I,[E,(0,n._)("div",M,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.value.slice(0,5),((e,t)=>((0,n.wg)(),(0,n.iD)("div",{key:t,class:(0,l.C_)(`box-${t+1}`),onClick:a=>d(e,t),onDblclick:p},[(0,n._)("img",{src:e.images[0].url,alt:e.name},null,8,Z),(0,n._)("div",R,(0,l.zw)(e.name),1)],42,L)))),128))])]))}};const O=(0,z.Z)(H,[["__scopeId","data-v-120afcd7"]]);var W=O;const N=e=>((0,n.dD)("data-v-16698f6f"),e=e(),(0,n.Cn)(),e),j={class:"rec-container"},G=N((()=>(0,n._)("h2",{class:"section-title"},"Recommended",-1))),V={class:"box-wrapper"},Q=["onClick"],Y=["src","alt"],K={class:"album-name"};var J={__name:"RecommendedView",emits:["toggleFullscreen","play"],setup(e,{emit:t}){const a=(0,f.iH)([]);let i=null;const s=(0,b.oR)();(0,n.bv)((async()=>{const e=await o();i=e.data.access_token,await u(i)}));const o=async()=>{const e="17e41028c79e4f128a873410a112bd0e",t="de2b9acdd949438588e2a21958897c3f",a=window.btoa(`${e}:${t}`);return _.Z.post("https://accounts.spotify.com/api/token","grant_type=client_credentials",{headers:{Authorization:`Basic ${a}`,"Content-Type":"application/x-www-form-urlencoded"}})},r=async(e,t)=>{for(let a=t+1;a<e.length;a++){const t=e[a],s=await _.Z.get(`https://api.spotify.com/v1/albums/${t.id}/tracks`,{headers:{Authorization:`Bearer ${i}`}});if(s.data.items.length>0&&s.data.items[0].preview_url){m(s.data.items[0]);break}}},c=async(e,t)=>{try{const s=await _.Z.get(`https://api.spotify.com/v1/albums/${e.id}/tracks`,{headers:{Authorization:`Bearer ${i}`}});s.data.items.length>0&&s.data.items[0].preview_url?m(s.data.items[0],e):(console.log("No tracks available in this album. Skipping to next..."),r(a.value,t))}catch(s){console.error(s)}},u=async e=>{try{const t="pop",i=await _.Z.get(`https://api.spotify.com/v1/recommendations?seed_genres=${t}`,{headers:{Authorization:`Bearer ${e}`}}),s=i.data.tracks.map((e=>e.album)),o=[...new Map(s.map((e=>[e["id"],e]))).values()];a.value=await d(o,e)}catch(t){console.error(t)}},d=async(e,t)=>{let a=[];for(let i of e){const e=await _.Z.get(`https://api.spotify.com/v1/albums/${i.id}/tracks`,{headers:{Authorization:`Bearer ${t}`}}),s=e.data.items.some((e=>null!==e.preview_url));s&&a.push(i)}return a},m=(e,a)=>{e.album||(e.album=a);const i={id:e.id,name:e.name,artists:e.artists,album:e.album,duration:e.duration_ms,image:e.album&&e.album.images&&e.album.images.length>0?e.album.images[0]?.url:"No Image",audioPreviewUrl:e.preview_url};e.preview_url?(t("play",e),s.commit("setAudioPlayerSource",e.preview_url),s.commit("setCurrentPlayingTrack",i),s.dispatch("playNewTrack",e.preview_url),p()):console.log(`No preview available for track ${e.id}`)},p=()=>{t("toggleFullscreen")};return(e,t)=>((0,n.wg)(),(0,n.iD)("div",j,[G,(0,n._)("div",V,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.value.slice(0,5),((e,t)=>((0,n.wg)(),(0,n.iD)("div",{key:t,class:(0,l.C_)(`box-${t+1}`),onClick:a=>c(e,t),onDblclick:p},[(0,n._)("img",{src:e.images[0].url,alt:e.name},null,8,Y),(0,n._)("div",K,(0,l.zw)(e.name),1)],42,Q)))),128))])]))}};const X=(0,z.Z)(J,[["__scopeId","data-v-16698f6f"]]);var ee=X;const te=e=>((0,n.dD)("data-v-9797b70a"),e=e(),(0,n.Cn)(),e),ae=te((()=>(0,n._)("i",{class:"fas fa-search"},null,-1))),ie={key:0},se=te((()=>(0,n._)("tr",null,[(0,n._)("th",null,"Artist"),(0,n._)("th",null,"Track"),(0,n._)("th",null,"Duration"),(0,n._)("th",null,"Album"),(0,n._)("th",null,"Album Image")],-1))),oe=[se],re=["onClick"],ne=["src","alt"];var le={__name:"LetsGo",props:{searchQuery:String,showTable:Boolean,showTableHeader:Boolean},emits:["show-table","on-play-preview","toggleFullscreen","request-tracks","play","remove-media-player","toggle-play","playPreview"],setup(e,{expose:t,emit:a}){const s=e;let o=(0,f.iH)(!1),r=(0,f.iH)([]),c=(0,f.iH)(null),u=(0,f.iH)(null);const d="17e41028c79e4f128a873410a112bd0e",m="de2b9acdd949438588e2a21958897c3f",p=btoa(`${d}:${m}`),h=(0,f.qj)({tracks:[]}),g=()=>{a("toggle-play")},y=()=>{a("toggleFullscreen")},w=e=>{a("play",e)},v=()=>{o.value=!o.value},_=(e,t)=>{c.value=e,u.value=t},b=e=>{console.log(e),a("on-play-preview",e.preview_url,e),a("toggleFullscreen")},k=async()=>{a("show-table");try{const e=await fetch("https://accounts.spotify.com/api/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:`Basic ${p}`},body:"grant_type=client_credentials"}),t=await e.json(),a=t.access_token,i=await fetch(`https://api.spotify.com/v1/search?q=${encodeURIComponent(s.searchQuery)}&type=track`,{headers:{Authorization:`Bearer ${a}`}}),o=await i.json();h.tracks=o.tracks.items.filter((e=>e.preview_url))}catch(e){console.error(e)}},P=e=>{const t=Math.floor(e/1e3%60),a=Math.floor(e/6e4%60);return`${a}:${t.toString().padStart(2,"0")}`};return t({requestTracks:k,togglePlay:g,toggleFullscreen:y,handleTrackClick:b,playSelectedPlaylist:w,toggleSidebar:v,setPreviewUrl:_,featuredPlaylists:r}),(t,a)=>((0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",null,[(0,n._)("button",{id:"searchButton",onClick:k},[ae,(0,n.Uk)(" SEARCH ")]),(0,n.wy)((0,n._)("table",null,[e.showTableHeader?((0,n.wg)(),(0,n.iD)("thead",ie,oe)):(0,n.kq)("",!0),(0,n._)("tbody",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(h.tracks,((e,t)=>((0,n.wg)(),(0,n.iD)("tr",{key:t,class:(0,l.C_)({"even-row":t%2===1}),onClick:t=>b(e)},[(0,n._)("td",null,(0,l.zw)(e.artists[0].name),1),(0,n._)("td",null,(0,l.zw)(e.name),1),(0,n._)("td",null,(0,l.zw)(P(e.duration_ms)),1),(0,n._)("td",null,(0,l.zw)(e.album.name),1),(0,n._)("td",null,[e.album.images[0]?((0,n.wg)(),(0,n.iD)("img",{key:0,src:e.album.images[0].url,alt:e.album},null,8,ne)):(0,n.kq)("",!0)])],10,re)))),128))])],512),[[i.F8,e.showTable]])]),(0,n.Wm)(q,{onPlayPreview:_,onPlay:w,onToggleFullscreen:y}),(0,n.Wm)(W,{onPlayPreview:_,onPlay:w,onToggleFullscreen:y}),(0,n.Wm)(ee,{onPlayPreview:_,onPlay:w,onToggleFullscreen:y})],64))}};const ce=(0,z.Z)(le,[["__scopeId","data-v-9797b70a"]]);var ue=ce;const de={class:"media-player-wrapper"},me={key:0},pe={class:"now-playing"},he=["src"],ge={key:0,class:"center-text"},ye={class:"center-text"},we={class:"progress-container"},ve={class:"current-time"},fe=["max"],_e={class:"duration"},be={class:"button-container"},ke=["src"];function Pe(e,t,a,s,o,r){const c=(0,n.up)("font-awesome-icon");return(0,n.wg)(),(0,n.iD)("div",de,[(0,n._)("div",{class:(0,l.C_)(["media-player-container",[o.mini?"mini-media-player":"",r.themeClass]]),onClick:t[11]||(t[11]=(0,i.iM)(((...e)=>r.handleContainerClick&&r.handleContainerClick(...e)),["stop"]))},[(0,n._)("div",{class:(0,l.C_)(["media-player",[o.mini?"reduced-size":"",r.themeClass]]),style:(0,l.j5)(r.mediaPlayerStyle)},[a.podcast?((0,n.wg)(),(0,n.iD)("div",me,[(0,n._)("div",pe,[(0,n._)("h2",null,[(0,n._)("div",{class:(0,l.C_)(["image-container",{"mini-image-container":o.mini}])},[a.podcast.album?.images&&a.podcast.album.images[0]?((0,n.wg)(),(0,n.iD)("img",{key:0,src:a.podcast.album.images[0].url,alt:"",class:(0,l.C_)(["media-player-img",{"mini-media-player-img":o.mini,"reduced-size":o.mini}]),style:(0,l.j5)(o.mini?{width:"80px",height:"80px"}:{width:"300px",height:"300px"})},null,14,he)):(0,n.kq)("",!0)],2)]),a.podcast?.artists&&a.podcast.artists[0]&&!o.mini?((0,n.wg)(),(0,n.iD)("h3",ge,(0,l.zw)(a.podcast.artists[0].name),1)):(0,n.kq)("",!0),(0,n._)("h2",ye,(0,l.zw)(a.podcast.name),1)]),(0,n._)("div",we,[(0,n._)("span",ve,(0,l.zw)(r.formatDuration(o.currentTime)),1),a.podcast?(0,n.wy)(((0,n.wg)(),(0,n.iD)("input",{key:0,type:"range",min:"0",max:o.duration,"onUpdate:modelValue":t[0]||(t[0]=e=>o.currentTime=e),onChange:t[1]||(t[1]=(...e)=>r.seek&&r.seek(...e)),class:"progress-bar"},null,40,fe)),[[i.nr,o.currentTime]]):(0,n.kq)("",!0),(0,n._)("span",_e,(0,l.zw)(r.formatDuration(o.duration,!0)),1)]),(0,n._)("div",be,[(0,n._)("button",{class:"button fullscreen-only",onClick:t[2]||(t[2]=(...e)=>r.previous&&r.previous(...e))},[(0,n.Wm)(c,{icon:["fas","fa-backward"]})]),(0,n._)("button",{class:"button play-pause",onClick:t[3]||(t[3]=(...e)=>r.togglePlay&&r.togglePlay(...e))},[(0,n.Wm)(c,{icon:["fas",o.isPlaying?"fa-pause":"fa-play"]},null,8,["icon"])]),(0,n._)("button",{class:"button fullscreen-only",onClick:t[4]||(t[4]=(...e)=>r.next&&r.next(...e))},[(0,n.Wm)(c,{icon:["fas","fa-forward"]})]),o.mini?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("button",{key:0,class:"button-remove",onClick:t[5]||(t[5]=(0,i.iM)(((...e)=>r.handleButtonRemoveClick&&r.handleButtonRemoveClick(...e)),["stop"]))},[(0,n.Wm)(c,{icon:["fas","chevron-down"]})]))]),a.audioPreviewUrl?((0,n.wg)(),(0,n.iD)("audio",{ref:"audio",key:a.audioPreviewUrl,src:a.audioPreviewUrl,onPlay:t[6]||(t[6]=e=>o.isPlaying=!0),onPause:t[7]||(t[7]=e=>o.isPlaying=!1),onLoadedmetadata:t[8]||(t[8]=e=>o.duration=1e3*e.target.duration),onTimeupdate:t[9]||(t[9]=e=>r.updateTime(e)),onEnded:t[10]||(t[10]=(...e)=>r.handleAudioEnded&&r.handleAudioEnded(...e))},null,40,ke)):(0,n.kq)("",!0)])):(0,n.kq)("",!0)],6)],2)])}var Te={props:{podcast:{type:Object,required:!1,default:null},podcastList:{type:Array,required:!1,default:()=>[]},audioPreviewUrl:{type:String,required:!1,default:""}},computed:{themeClass(){return`${this.theme}-theme`},...(0,b.rn)(["audioPlayer","theme"]),mediaPlayerStyle(){let e={position:this.fullscreen?"fixed":"static",top:this.fullscreen?"0":"auto",left:this.fullscreen?"0":"auto",width:this.fullscreen?"100%":"auto",height:this.fullscreen?"100%":"auto",zIndex:this.fullscreen?"9999":"auto"};return this.mini?e={...e,position:"static",top:"auto",left:"auto",width:"auto",height:"auto",background:"transparent",zIndex:"auto"}:"light"===this.theme?e.background="#d1d1be":e.background=this.fullscreen?"linear-gradient(180deg, #333333 0%, #222222 50%, #111111 100%)":"transparent",e}},data(){return{isPlaying:!1,duration:0,currentTime:0,previewDuration:30,fullscreen:!1,mini:!1}},methods:{handleContainerClick(){this.mini&&(this.removeMediaPlayer(),this.toggleBackgroundColor())},handleButtonRemoveClick(){this.removeMediaPlayer()},toggleBackgroundColor(){this.changedBackgroundColor=!this.changedBackgroundColor},previous(){if(!this.podcast||!this.podcastList.length)return;const e=this.podcastList.findIndex((e=>e.id===this.podcast.id));e>0&&(this.$refs.audio.pause(),this.isPlaying=!1,this.$emit("play",this.podcastList[e-1]))},next(){if(!this.podcast||!this.podcastList.length)return;const e=this.podcastList.findIndex((e=>e.id===this.podcast.id));e<this.podcastList.length-1&&(this.$refs.audio.pause(),this.isPlaying=!1,this.$emit("play",this.podcastList[e+1]))},togglePlay(){this.$store.dispatch("toggleAudio"),this.$refs.audio&&(this.$refs.audio.paused?this.$refs.audio.play():this.$refs.audio.pause())},updateTime(e){this.currentTime=1e3*e.target.currentTime},formatDuration(e,t=!1){let a=e;t&&(a=this.duration-this.currentTime);const i=Math.floor(a/1e3%60),s=Math.floor(a/6e4%60);return`${s}:${i.toString().padStart(2,"0")}`},seek(){this.$refs.audio.currentTime=this.currentTime},playPreview(){this.$refs.audio&&this.audioPreviewUrl&&(this.$refs.audio.oncanplay=()=>{this.isPlaying=!0},this.$refs.audio.currentTime=0,this.$refs.audio.play())},toggleFullscreen(){this.fullscreen=!this.fullscreen},removeMediaPlayer(){this.mini?this.fullscreen=!0:this.fullscreen=!1,this.mini=!this.mini},handleAudioEnded(){this.$refs.audio&&(this.$refs.audio.pause(),this.isPlaying=!1)}},watch:{audioPreviewUrl(){this.$nextTick((()=>{this.playPreview(),this.duration=0}))}}};const $e=(0,z.Z)(Te,[["render",Pe],["__scopeId","data-v-2143798e"]]);var Ce=$e,Se={components:{LetsGo:ue,MediaPlayer:Ce},data(){return{showSidebar:!1,previewUrl:"",podcast:null,audioPreviewUrl:"",searchQuery:"",showTable:!0,showTableHeader:!1,audioElement:new Audio,accessToken:null,podcastList:[]}},methods:{handlePlay(e){this.setPreviewUrl(e.preview_url,e)},clearInputField(){this.searchQuery=""},toggleSidebar(){this.$store.commit("TOGGLE_SIDEBAR")},setPreviewUrl(e,t){this.audioPreviewUrl=e,this.podcast=t},async requestTracks(){this.$refs.letsgoComponent.$emit("request-tracks"),this.showTableHeader=!0},toggleFullscreen(){this.$refs.mediaPlayerComponent.toggleFullscreen()},hideMediaPlayer(){this.audioPreviewUrl="",this.podcast=null},requestTracksFromInput(){this.$refs.letsgoComponent.requestTracks()},playSelectedPlaylist(e){e?(this.audioElement.pause(),this.audioElement.src=e,this.audioElement.play(),this.setPreviewUrl(e,null)):console.error("No preview URL available for this playlist")}}};const Ae=(0,z.Z)(Se,[["render",v],["__scopeId","data-v-c77b380e"]]);var De=Ae,xe=a(678);const Ue={class:"podcast-list"},ze=(0,n._)("h2",null,"Music",-1),Fe=(0,n._)("ul",null,null,-1);function qe(e,t,a,i,s,o){const r=(0,n.up)("MediaPlayer");return(0,n.wg)(),(0,n.iD)("div",Ue,[ze,Fe,(0,n.Wm)(r,{podcast:s.selectedPodcast,podcastList:a.podcasts,onPlay:o.playPodcast,audioPlayer:s.audioPlayer},null,8,["podcast","podcastList","onPlay","audioPlayer"])])}var Be={name:"MusicView",props:{podcasts:Array},data(){return{selectedPodcast:null,audioPlayer:new Audio}},mounted(){this.$emit("show-media-player",!1),this.$emit("show-letsgo",!1)},beforeUnmount(){this.$emit("show-media-player",!0),this.$emit("show-letsgo",!0)},components:{MediaPlayer:Ce},methods:{playPodcast(e){this.selectedPodcast=e}}};const Ie=(0,z.Z)(Be,[["render",qe]]);var Ee=Ie;function Me(e,t){return(0,n.wg)(),(0,n.iD)("main")}const Le={},Ze=(0,z.Z)(Le,[["render",Me]]);var Re=Ze;const He=(0,n._)("h1",null,"Settings",-1),Oe={class:"settings-content"},We=(0,n._)("label",{for:"theme"},"Theme:",-1),Ne=(0,n._)("option",{value:"light"},"Light",-1),je=(0,n._)("option",{value:"dark"},"Dark",-1),Ge=[Ne,je];function Ve(e,t,a,s,o,r){const c=(0,n.up)("font-awesome-icon");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",{class:(0,l.C_)(["header",e.$store.state.theme+"-theme"])},[(0,n._)("button",{onClick:t[0]||(t[0]=(...e)=>r.closeSettings&&r.closeSettings(...e))},[(0,n.Wm)(c,{icon:["fas","chevron-left"]})]),He],2),(0,n._)("div",{class:(0,l.C_)(["settings",e.$store.state.theme+"-theme"])},[(0,n._)("div",Oe,[We,(0,n.wy)((0,n._)("select",{id:"theme","onUpdate:modelValue":t[1]||(t[1]=e=>o.theme=e)},Ge,512),[[i.bM,o.theme]])])],2)],64)}var Qe={emits:["play","toggleFullscreen"],methods:{closeSettings(){this.$store.commit("TOGGLE_SIDEBAR"),this.$router.push("/")}},beforeRouteEnter(e,t,a){a((e=>{e.$store.commit("SET_SETTINGS_ACTIVE",!0)}))},beforeRouteLeave(e,t,a){this.$store.commit("SET_SETTINGS_ACTIVE",!1),a()},data(){return{theme:this.$store.state.theme}},watch:{theme:{handler(e){this.$store.commit("setTheme",e)},immediate:!0}}};const Ye=(0,z.Z)(Qe,[["render",Ve]]);var Ke=Ye;const Je=[{path:"/settings",name:"SettingsView",component:Ke},{path:"/",name:"HomeView",component:Re},{path:"/music",name:"MusicView",component:Ee}],Xe=(0,xe.p7)({history:(0,xe.PO)(),routes:Je});var et=Xe,tt=(0,b.MT)({state:{currentPlayingTrack:null,audioPlayer:new Audio,isPlaying:!1,isSettingsActive:!1,showSidebar:!1,theme:"dark"},mutations:{setTheme(e,t){e.theme=t},TOGGLE_SIDEBAR(e){e.showSidebar=!e.showSidebar},SET_SETTINGS_ACTIVE(e,t){e.isSettingsActive=t},setCurrentPlayingTrack(e,t){e.currentPlayingTrack=t},setAudioPlayerSource(e,t){e.audioPlayer.src=t},setPlayingState(e,t){e.isPlaying=t}},actions:{playNewTrack({state:e,commit:t},a){e.audioPlayer.src=a;var i=e.audioPlayer.play();void 0!==i&&i.then((()=>{t("setPlayingState",!0)})).catch((()=>{t("setPlayingState",!1)}))},resumeAudio({state:e,commit:t}){var a=e.audioPlayer.play();void 0!==a&&a.then((()=>{t("setPlayingState",!0)})).catch((()=>{t("setPlayingState",!1)}))},pauseAudio({state:e,commit:t}){e.audioPlayer.pause(),t("setPlayingState",!1)},toggleAudio({state:e,dispatch:t}){e.isPlaying?t("pauseAudio"):t("resumeAudio")}}});s.vI.add(o.mRB);const at=(0,i.ri)(De);at.component("font-awesome-icon",r.GN),at.use(et),at.use(tt),at.mount("#app")}},t={};function a(i){var s=t[i];if(void 0!==s)return s.exports;var o=t[i]={exports:{}};return e[i].call(o.exports,o,o.exports,a),o.exports}a.m=e,function(){var e=[];a.O=function(t,i,s,o){if(!i){var r=1/0;for(u=0;u<e.length;u++){i=e[u][0],s=e[u][1],o=e[u][2];for(var n=!0,l=0;l<i.length;l++)(!1&o||r>=o)&&Object.keys(a.O).every((function(e){return a.O[e](i[l])}))?i.splice(l--,1):(n=!1,o<r&&(r=o));if(n){e.splice(u--,1);var c=s();void 0!==c&&(t=c)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[i,s,o]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var i in t)a.o(t,i)&&!a.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.p="/podcast-app/"}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,i){var s,o,r=i[0],n=i[1],l=i[2],c=0;if(r.some((function(t){return 0!==e[t]}))){for(s in n)a.o(n,s)&&(a.m[s]=n[s]);if(l)var u=l(a)}for(t&&t(i);c<r.length;c++)o=r[c],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(u)},i=self["webpackChunkpodcast_app"]=self["webpackChunkpodcast_app"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=a.O(void 0,[998],(function(){return a(175)}));i=a.O(i)})();
//# sourceMappingURL=app.a2908b82.js.map